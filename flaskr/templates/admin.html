<!-- flask-tiny-app/flaskr/templates/admin.html -->
{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Admin Panel{% endblock %}</h1>
{% endblock %}

{% block content %}
  <h2>User Management</h2>
  {% for user in users %}
    <div>
      <p>{{ user.username }} - {{ 'Blocked' if user.is_blocked else 'Active' }}</p>
      <form action="{{ url_for('blog.block_user', user_id=user.id) }}" method="post">
        <button type="submit" {% if user.is_blocked %}disabled{% endif %}>Block User</button>
      </form>
      <form action="{{ url_for('blog.unblock_user', user_id=user.id) }}" method="post">
        <button type="submit" {% if not user.is_blocked %}disabled{% endif %}>Unblock User</button>
      </form>
      <form action="{{ url_for('blog.reset_password', user_id=user.id) }}" method="post">
        <button type="submit">Reset Password</button>
      </form>
    </div>
  {% endfor %}
{% endblock %}